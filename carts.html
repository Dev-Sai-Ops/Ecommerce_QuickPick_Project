<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Cart | QuickPick</title>
  <link rel="stylesheet" href="style.css" />
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet"/>
  <link rel="stylesheet" href="prod.css">
  <script src="cart.js"></script>
  <style>
    body, html {
      margin: 0;
      padding: 0;
      height: 100%;
    }

    .page-container {
      display: flex;
      flex-direction: column;
      min-height: 100vh;
    }

    .container {
      flex: 1 0 auto;
    }

    #footer {
      color: black;
      font-family: Arial, sans-serif;
      padding: 40px 20px;
      margin-top: 40px;
    }

    #cart-items {
      display: flex;
      flex-wrap: wrap;
      gap: 20px;
      justify-content: flex-start;
      margin-left: 30px;
    }

    #cart-items .card {
      border: 1px solid #ddd;
      border-radius: 10px;
      transition: transform 0.2s;
      width: 280px;
    }

    #cart-items img {
      width: 100%;
      height: 250px;
      object-fit: cover;
    }

    #cart-items .card:hover {
      transform: scale(1.02);
    }

    .total-price {
      margin: 30px;
      font-size: 1.5rem;
    }

    .clear-btn {
      background-color: rgb(170, 203, 169);
      border: none;
      font-size: 20px;
      width: 150px;
      height: 50px;
    }

    .clear-btn:hover {
      transform: scale(1.10);
      background-color: rgb(80, 140, 93);
    }
  </style>
</head>
<body>
<div class="page-container">

  <div id="navigation">
    <div id="logo-div">
      <img id="logo" src="Images/logo1.jpg" alt="QuickPick">
    </div>
    <div id="anchor-items">
      <a class="nav-items" href="layout.html">Home</a>
      <a class="nav-items" href="products.html">Products</a>
      <a class="nav-items" href="about_us.html">About</a>
      <a class="nav-items" href="Contactus.html">Contact</a>
      <a class="nav-items" href="carts.html" >Cart  <span id="cart-count" class="badge cart-no">0</span></a>
      <a href="search.html" class="nav-items">Search</a>
      <a class="nav-items" href="#" id="loginLink" data-bs-toggle="modal" data-bs-target="#loginModal">Login</a>
    </div>
  </div>

  <div class="top"></div>

  <!-- Conditionally shown heading -->
  <div id="cart-heading" style="margin-left: 50px; margin-top: 20px;">
    <h3>Your Cart</h3>
  </div>

  <div class="container mt-5 mb-5">
    <h2>&nbsp; &nbsp; &nbsp;</h2>
    <div id="cart-items" class="row"></div>
    <div class="total-price">Total: â‚¹<span id="cart-total">0.00</span></div>
    <button onclick="clearCart()" id="clear-btn" class="clear-btn">Clear the Cart</button> &nbsp;&nbsp;
    <button onclick="goToCheckout()" class="clear-btn">Checkout</button>
  </div>

<footer id="footer">
  <div class="footer-container">

    <div class="footer-section logo-social">
      <h3>QuickPick</h3>
      <p class="slogan">Shop Smart. Shop Fast. Shop QuickPick â€“ Your Everyday Essentials, Delivered.</p>
    </div>

    <div class="footer-section about">
      <h4>About</h4>
      <ul>
        <li><a href="advertising.html">Advertising</a></li>
        <li><a href="help.html">Help</a></li>
        <li><a href="faqs.html">FAQs</a></li>
      </ul>
    </div>


    <div class="footer-section legal">
      <h4>Legal</h4>
      <ul>
        <li><a href="privacy.html">Privacy Policy</a></li>
        <li><a href="terms.html">Terms & Conditions</a></li>
        <li><a href="refund.html">Refund Policy</a></li>
      </ul>
    </div>

   
    <div class="footer-section follow-us">
      <h4>Follow Us</h4>
      <div class="social-icons">
        <a href="#"><img src="Images/twitter.png" alt="Twitter"></a>
        <a href="#"><img src="Images/facebook.png" alt="Facebook"></a>
        <a href="#"><img src="Images/instagram.png" alt="Instagram"></a>
      </div>
    </div>

  </div>

  <div class="footer-bottom">
    <p>&copy; 2025 QuickPick LLC. All Rights Reserved.</p>
  </div>
</footer>

  <div class="modal fade" id="loginModal" tabindex="-1" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered">
      <div class="modal-content">

        <div class="modal-body" id="loginForm">
          <h5 class="modal-title mb-3">Login to QuickPick</h5>
          <form id="loginFormElem">
            <div class="mb-3">
              <label for="loginUsername" class="form-label">Username</label>
              <input type="text" class="form-control" id="loginUsername" required />
            </div>
            <div class="mb-3">
              <label for="loginPassword" class="form-label">Password</label>
              <input type="password" class="form-control" id="loginPassword" required />
            </div>
            <button type="submit" class="btn btn-primary  w-100">Login</button>
          </form>
          <div class="text-center mt-3">
            Donâ€™t have an account? <a href="#" id="showRegister" class="text-decoration-underline">Create one</a>
          </div>
        </div>

        <div class="modal-body d-none" id="registerForm">
          <h5 class="modal-title mb-3">Create a New Account</h5>
          <form id="registerFormElem">
            <div class="mb-3">
              <label for="regName" class="form-label">Full Name</label>
              <input type="text" class="form-control" id="regName" required />
            </div>
            <div class="mb-3">
              <label for="regUsername" class="form-label">Username</label>
              <input type="text" class="form-control" id="regUsername" required />
            </div>
            <div class="mb-3">
              <label for="regEmail" class="form-label">Email</label>
              <input type="email" class="form-control" id="regEmail" required />
            </div>
            <div class="mb-3">
              <label for="regPassword" class="form-label">Password</label>
              <input type="password" class="form-control" id="regPassword" required />
            </div>
            <div class="mb-3">
              <label for="regConfirmPassword" class="form-label">Confirm Password</label>
              <input type="password" class="form-control" id="regConfirmPassword" required />
            </div>
            <button type="submit" class="btn btn-success w-100">Register</button>
          </form>
          <div class="text-center mt-3">
           Already have an account? <a href="#" id="showLogin" class="text-decoration-underline">Login here</a>
          </div>
        </div>

      </div>
    </div>
  </div>

</div>
<script>
  document.addEventListener("DOMContentLoaded", () => {
    const cart = JSON.parse(localStorage.getItem("cart")) || [];
    const cartItemsDiv = document.getElementById("cart-items");
    const cartTotalSpan = document.getElementById("cart-total");
    const cartHeading = document.getElementById("cart-heading");

    if (cart.length === 0) {
      cartItemsDiv.innerHTML = `
        <div style="text-align: center; padding: 40px;">
          <h2>Your cart is empty! ðŸ˜”</h2>
          <p style="font-size: 18px; margin: 10px 0;">But it doesnâ€™t have to stay that way...</p>
          <p style="font-size: 16px;">Start exploring and find something you love! ðŸ˜„</p>
          <button onclick="window.location.href='products.html'" 
            style="margin-top: 20px; padding: 12px 24px; background-color: rgb(169, 96, 107); color: white; border: none; border-radius: 6px; font-size: 16px; cursor: pointer;">
            Start Shopping 
          </button>
        </div>
      `;
      cartTotalSpan.textContent = "0.00";
      if (cartHeading) cartHeading.style.display = "none";
      return;
    } else {
      if (cartHeading) cartHeading.style.display = "block";
    }

    let total = 0;
    const cartForCheckout = [];

    cart.forEach(item => {
      const priceNumber = parseFloat(item.price.replace(/[^\d.-]/g, '')) || 0;
      const itemTotal = priceNumber * item.quantity;
      total += itemTotal;

      cartForCheckout.push({ ...item, price: priceNumber });

      const itemDiv = document.createElement("div");
      itemDiv.classList.add("col-md-4");
      itemDiv.innerHTML = `
        <div class="card mb-3">
          <img src="${item.image}" class="card-img-top" alt="${item.name}" />
          <div class="card-body">
            <h5 class="card-title">${item.name}</h5>
            <p class="card-text">Price: â‚¹${priceNumber.toFixed(2)}</p>
            <p class="card-text">Quantity: ${item.quantity}</p>
            ${item.size ? `<p class="d-flex gap-3 flex-wrap mt-3">Size: ${item.size}</p>` : ''}
            <button class="btn" onclick="removeFromCart('${item.id}')">Remove</button>
          </div>
        </div>`;
      cartItemsDiv.appendChild(itemDiv);
    });

    cartTotalSpan.textContent = total.toFixed(2);
    localStorage.setItem("cartForCheckout", JSON.stringify(cartForCheckout));
  });

  function removeFromCart(id) {
    let cart = JSON.parse(localStorage.getItem("cart")) || [];
    cart = cart.filter(item => item.id !== id);
    localStorage.setItem("cart", JSON.stringify(cart));
    location.reload();
  }

  function goToCheckout() {
    const cart = JSON.parse(localStorage.getItem('cart')) || [];
    if (cart.length === 0) {
      alert("No items in cart.");
    } else {
      window.location.href = "checkout.html";
    }
  }

  function clearCart() {
    localStorage.setItem('cart', JSON.stringify([]));
    alert("Cart cleared!");
    location.reload();
  }
</script>
</body>
</html>
